<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_211) on Thu Jun 02 18:38:54 EDT 2022 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LinearRgb (Core 1.0.2 API)</title>
<meta name="date" content="2022-06-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LinearRgb (Core 1.0.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":9,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LinearRgb.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/gridfour/imaging/util/LinearRgb.html" target="_top">Frames</a></li>
<li><a href="LinearRgb.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.gridfour.imaging.util</div>
<h2 title="Class LinearRgb" class="title">Class LinearRgb</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.gridfour.imaging.util.LinearRgb</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">LinearRgb</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Provides utilities for converting data from standard RGB (sRGB) to
 linear RGB. The source for the computations used in this class is
 <a href="https://en.wikipedia.org/wiki/SRGB"> https://en.wikipedia.org/wiki/SRGB</a>
 <p>
 <strong>Why this class exists: </strong>  The standard RGB (sRGB) color
 space is optimized for the visual response of the human eye. As such,
 it is based on a non-linear response to intensity values. This
 approach works well for display purposes, but has a disadvantage
 when used for interpolation, color-blending, or other purposes
 which would benefit from a linear intensity scale. Therefore, in
 image processing applications it is common to map the standard
 RGB (sRGB) to a linear form.
 <p>
 The conversion between non-linear and linear intensities depends
 on a power function and is sometimes computationally expensive. To streamline
 that process, this class implements a logic to perform the conversion
 using a lookup table. The sRGB to linear RGB conversion is straightforward
 because it maps simple byte values (in the range 0 to 255) to
 floating-point values (in the range 0 to 1.0). The conversion from linear
 RGB to sRGB is more complicated. While a simple lookup operation is
 feasible, the operations results in a small error (one level of intensity)
 in approximately 0.7 percent of all cases. This class trades uses an interpolation
 technique to reduce the error to less than 0.1 percent. The interpolation
 is more costly than a simple look up, but requires about half the processing
 time of the direct power function. The resulting errors tend to be due
 to round off of values very close to the midpoint between two integral
 values (for example, a value of 100.499 for the interpolated method versus
 100.5001 for the directly computed method).
 <p>
 <strong>Using this class: </strong> This class is implemented as
 a thread-safe singleton.  You may invoke it as shown in the code example
 below:
 <pre>
  Color orange = Color.orange;
   int r = orange.getRed();
   int g = orange.getGreen();
   int b = orange.getBlue();

   LinearRgb linearRgb = LinearRgb.getInstance();  // get single instance
   float rLinear = linearRgb.standardToLinear(r);  // value in range 0 to 1
   float gLinear = linearRgb.standardToLinear(g);  // value in range 0 to 1
   float bLinear = linearRgb.standardToLinear(b);  // value in range 0 to 1

   double yLinear = 0.2126*rLinear + 0.7152*gLinear+0.0722*bLinear;
   int gray = linearRgb.linearToStandard(yLinear);
   Color orange2Grayscale = new Color(gray, gray, gray);
 </pre>
 <p>
 <strong>Performance: </strong> The performance of this class was tested
 on a mid-level laptop processing 1 million samples. The results collected
 over several trials are summarized below:
 <pre>
    Method                          Time to Process
    Direct computation sRGB to Linear        33.21 milliseconds
    Lookup table standardToLinear()           1.01 milliseconds
    Direct computation Linear to sSGB        36.86 milliseconds
    Interpolated lookup linearToStandard()   12.90 milliseconds
 </pre>
 The interpolation-based lookup used for the linearToStandard()
 class requires more processing time than a simple lookup,
 but returns a match for the direct computation in more than 99.9 percent
 of all cases and never experiences an error greater than 1 level.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/gridfour/imaging/util/LinearRgb.html#computeLinear-int-">computeLinear</a></span>(int&nbsp;standard)</code>
<div class="block">Compute the linear form of the specified value from the standard
 sRGB color space.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/gridfour/imaging/util/LinearRgb.html#computeStandard-double-">computeStandard</a></span>(double&nbsp;linear)</code>
<div class="block">Compute the standard form of the specified value from the linear
 color space.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/gridfour/imaging/util/LinearRgb.html" title="class in org.gridfour.imaging.util">LinearRgb</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/gridfour/imaging/util/LinearRgb.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Returns a single, sharable, read-only instance of this class.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/gridfour/imaging/util/LinearRgb.html#linearToStandard-double-">linearToStandard</a></span>(double&nbsp;linearValue)</code>
<div class="block">Converts an intensity value from the linear color space to its equivalent
 in the standard RGB (sRGB) space.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/gridfour/imaging/util/LinearRgb.html#standardToLinear-int-">standardToLinear</a></span>(int&nbsp;p)</code>
<div class="block">Converts a value giving an intensity from one of the color components
 in the sRGB space to the linear equivalent.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/gridfour/imaging/util/LinearRgb.html#testLinearToStandard-double-">testLinearToStandard</a></span>(double&nbsp;linearValue)</code>
<div class="block">Provides a test method for evaluating the linear interpolation
 performed by this class's linearToStandard method.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../org/gridfour/imaging/util/LinearRgb.html" title="class in org.gridfour.imaging.util">LinearRgb</a>&nbsp;getInstance()</pre>
<div class="block">Returns a single, sharable, read-only instance of this class.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a valid instance of the GammaConverter class.</dd>
</dl>
</li>
</ul>
<a name="computeLinear-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeLinear</h4>
<pre>public final&nbsp;double&nbsp;computeLinear(int&nbsp;standard)</pre>
<div class="block">Compute the linear form of the specified value from the standard
 sRGB color space. The computation is performed using power function
 to produce the most accurate mapping.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>standard</code> - a R,G, or B value from the standard (non-linear)
 sRGB color space; value 0 to 255.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a floating point value in the range 0 to 1.</dd>
</dl>
</li>
</ul>
<a name="computeStandard-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeStandard</h4>
<pre>public final&nbsp;double&nbsp;computeStandard(double&nbsp;linear)</pre>
<div class="block">Compute the standard form of the specified value from the linear
 color space. The computation is performed using power function
 to produce the most accurate mapping.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>linear</code> - a linear value in the range 0 to 1</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a floating point value in the range 0 to 255.0</dd>
</dl>
</li>
</ul>
<a name="standardToLinear-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>standardToLinear</h4>
<pre>public&nbsp;float&nbsp;standardToLinear(int&nbsp;p)</pre>
<div class="block">Converts a value giving an intensity from one of the color components
 in the sRGB space to the linear equivalent. The input is assumed to
 be either the r, g, or b component given in a range 0 to 255.
 Conversion is performed using a simple lookup table. This method
 yields good performance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>p</code> - a value in the range 0 to 255.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a value in the range 0 to 1</dd>
</dl>
</li>
</ul>
<a name="linearToStandard-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>linearToStandard</h4>
<pre>public&nbsp;int&nbsp;linearToStandard(double&nbsp;linearValue)</pre>
<div class="block">Converts an intensity value from the linear color space to its equivalent
 in the standard RGB (sRGB) space.  Conversion is performed using a
 linear interpretation and is an match for the rounded-off value
 from the direct method in better than 99.9 percent of all cases and
 never experiences an error greater than 1 level.
 <p>
 Even good resampling techniques including Lanczos and B-Sline methods can
 result in values that are out of the range 0 to 1. In such cases, this
 method truncates the input value so that it is restricted to the
 valid range.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>linearValue</code> - a value in the range 0 to 1; out-of-range
 values will be truncated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an integer value in the range 0 to 255.</dd>
</dl>
</li>
</ul>
<a name="testLinearToStandard-double-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>testLinearToStandard</h4>
<pre>public&nbsp;double&nbsp;testLinearToStandard(double&nbsp;linearValue)</pre>
<div class="block">Provides a test method for evaluating the linear interpolation
 performed by this class's linearToStandard method.
 This method provides an average absolute error of 0.00093
 levels-of-intensity and 0.1448 levels maximum absolute error.
 Although this method is included mainly for testing purposes,
 application developers may use this method if it is appropriate
 to their requirements.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>linearValue</code> - a value in the range 0 to 1, with out-of-range
 values being truncated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a floating-point value in the range 0 to 255.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LinearRgb.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/gridfour/imaging/util/LinearRgb.html" target="_top">Frames</a></li>
<li><a href="LinearRgb.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2022. All rights reserved.</small></p>
</body>
</html>
